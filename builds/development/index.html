<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>day #</title>
    <link rel="stylesheet" href="css/myStyle.css">
    <link rel="stylesheet" href="css/anotherstyle.css">
</head>
<body>
<div id="container">

</div>
<div id="1"></div>
<textarea name="txtarea" id="text1" cols="30" rows="10"></textarea>
<p id="charcount"></p>
<!--  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>-->
<script src="js/lib/underscore.js"></script>
<script src="SampleData.js"></script>
<script>
    function updateCharCount() {
        var elem = document.querySelector("#text1");
        document.querySelector("#charcount").textContent = (elem.value).length;
    }
    updater = _.throttle(updateCharCount, 1000);
    document.querySelector("#text1").addEventListener("keydown", updater);
    function log(value) {
        var container = document.getElementById("container");
        var data = "<p>" + value + "</p>";
        container.innerHTML = container.innerHTML + data;
    }

    function doInitialize() {
        log("Initialize function ! Don't call me more than once");
    }

    var myObj = {
        firstname: "Hongbo",
        lastname: "Jing"
    };

    function dumpData1() {
        log(this.firstname + " " +this.lastname);
    }

    function dumpData2() {
        log(this.lastname + ", " + this.firstname);
    }

    var func = _.bind(dumpData1, myObj);
    func();
    func = _.bind(dumpData2, myObj);
    func();
    window.addEventListener("load", function (e) {
        //create a function that could not be called more than once
//        log("Initialize the app multiple times:");
//        var initfunc = _.once(doInitialize);
//        initfunc();
//        initfunc();
//        initfunc();
//        initfunc();
//        initfunc();

    });
</script>
</body>
</html>
